##关系模型中相关概念复习 

+ 关系
  + 一个二维表就是一个关系
+ 属性
  + 二维表的列叫做属性
+ 候选码
  + 某个属性或属性组能唯一标识关系中的各个元组，**且不含多余属性**
+ 主码
  + 如果有多个候选码，选其中一个为主码
+ 主属性
  + 包含在任何一个候选码中的属性

## 函数依赖

#### 1.什么是函数依赖

​	函数依赖是属性之间的一种联系。例如给定职工号的值，就可以知道对应职称的值。此时就可以说**职称函数依赖于职工号**，或者说**职工号决定职称函数**

​	简言之：**知道X的值就可以获得Y的值**

#### 2.完全函数依赖（非主属性依赖所有的候选码）

![1559305654008](C:\Users\TD21forever\AppData\Roaming\Typora\typora-user-images\1559305654008.png)

>在关系S (SNO,NAME,SEX,CNO,CNAME,GRADE)中：
>
>   (SNO,CNO) -> GRADE
>
>但SNO -> GRADE；(CNO) -> GRADE都不成立
>
>所以(SNO,CNO) -> GRADE是完全函数依赖关系。

#### 3.部分函数依赖（非主属性部分依赖候选码）

![1559305683665](C:\Users\TD21forever\AppData\Roaming\Typora\typora-user-images\1559305683665.png)

设X->Y是一个函数依赖,但不是完全函数依赖,则称X->Y是一个部分函数依赖,或称Y函数依赖于X的某个真子集

>在关系S (SNO,NAME,SEX,CNO,CNAME, GRADE)中：
>
>(SNO,CNO)->NAME,
>
>而对于每个学生都有唯一的SNO值,所以SNO->NAME,而CNO≠>NAME, 因此，(SNO,CNO)->NAME是部分函数依赖

#### 4.传递函数依赖

![1559305717636](C:\Users\TD21forever\AppData\Roaming\Typora\typora-user-images\1559305717636.png)

> 如果X->Y , Y->Z并且X不包含Y，Y不确定X（Y!->X），这样就是传递函数依赖



**如果两个属性之间是多对多的关系，则不存在函数依赖**



## 通过函数依赖求关系模式的候选码

#### 方法：根据函数依赖集将属性分为`L` `R` `LR` `N` 类；其中`L` `N`类中的属性一定在候选码中，`R`中的属性一定不在候选码中，`LR`中不一定

![1559304720719](C:\Users\TD21forever\AppData\Roaming\Typora\typora-user-images\1559304720719.png)

> CE
>
> CEP



## 关系规范化

#### 第一范式

>定义：设R是一个关系模式，R属于第一范式当且仅当R中每一个属性A的值域只包含原子项，即不可分割的数据项。

就是说一个属性下面不能再分了，同一列中不能有多个值，下图就**不满足**第一范式

![1559305470189](C:\Users\TD21forever\AppData\Roaming\Typora\typora-user-images\1559305470189.png)



#### 第二范式

> 定义：设R是一个关系模式，R属于第二范式当且仅当R是第一范式，且每个**非主属性都完全函数依赖于码**。

就是说**不允许有部分函数依赖**，不能存在仅依赖主关键字一部分的属性

**推论：如果关系模式是第一范式，且它的每一个候选码都是单码，则R属于2范式**



#### 第三范式

> 定义：设R是一个关系模式，R属于第三范式当且仅当R是2NF，且每个非主属性都非传递函数依赖于码。

不允许非关键字对关键字的传递函数依赖 
比如：A是关键字 A->B B->C 
这里就存在c（非关键字）对A（关键字）的传递函数依赖

**简而言之，第三范式就是属性不依赖于其它非主属性**

**推论： 不存在非主属性的关系模式一定为3NF**



#### BC范式

> BCNF判断定理：每一个决定因素都包含码。

不能存在主属性决定主属性的情况

## 总结

![1559715350010](C:\Users\TD21forever\AppData\Roaming\Typora\typora-user-images\1559715350010.png)





## 参考资料

[数据库范式简单讲解(1NF、2NF、3NF、4NF、BCNF)](<https://blog.csdn.net/SevenGirl2017/article/details/77678233>)